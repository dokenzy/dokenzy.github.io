---
layout: post
title: 'Vim:: xmllint를 이용해서 XML문서 보기좋게 만들기(prettify)'
post_id: '968'
date: 2014-02-28 00:42:07.000000000 +09:00
type: post
published: true
status: publish
categories:
- 개발도구
tags:
- Vim
- vimrc
- XML
- xmllint
meta:
  _edit_last: '1'
author:
  login: dokenzy
  email: dokenzy@gmail.com
  display_name: dokenzy
  first_name: ''
  last_name: ''
---
<p>XML문서를 분석할 경우가 종종 생긴다.</p>
<p>사실 사람이 직접 만든 XML문서는 들여쓰기 등이 잘 되어 있기 때문에 굳이 이렇게 하지 않아도 된다.</p>
<p>하지만 프로그램을 통해 자동으로 만들어진 문서들은 맨 처음 문서 선언을 제외하면 그냥 통째 한 줄로 되어 있는 경우가 많다.</p>
<p><a href="http://xmlsoft.org/xmllint.html">xmllint</a> 라는 외부 프로그램을 이용하면 이른바 prettify를 할 수 있다.</p>
<pre class="lang:sh decode:true">:1,$!xmllint --format</pre>
<p>매번 이 짓을 할 수 없으니 .vimrc파일에 다음과 같이 설정하자.</p>
<pre class="lang:default decode:true">map &lt;F2&gt; &lt;Esc&gt;:1,$!xmllint --format -&lt;CR&gt;</pre>
<p>이제 특수키인 &lt;F2&gt;를 누르면 xmllint가 XML문서를 이쁘게  바꿔준다.</p>
<p>예를 들면 이런 문서를</p>
<pre class="lang:xhtml decode:true">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"&gt;&lt;fonts count="1"&gt;&lt;font&gt;&lt;sz val="11"/&gt;&lt;color theme="1"/&gt;&lt;name val="Calibri"/&gt;&lt;family val="2"/&gt;&lt;charset val="129"/&gt;&lt;scheme val="minor"/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count="2"&gt;&lt;fill&gt;&lt;patternFill patternType="none"/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType="gray125"/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count="1"&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count="1"&gt;&lt;xf numFmtId="0" fontId="0" fillId="0" borderId="0"/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count="1"&gt;&lt;xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/&gt;&lt;/cellXfs&gt;&lt;cellStyles count="1"&gt;&lt;cellStyle name="Normal" xfId="0" builtinId="0"/&gt;&lt;/cellStyles&gt;&lt;dxfs count="0"/&gt;&lt;tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/&gt;&lt;extLst&gt;&lt;ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"&gt;&lt;x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/&gt;&lt;/ext&gt;&lt;/extLst&gt;&lt;/styleSheet&gt;</pre>
<p>&lt;F2&gt;키만 누르면 이렇게 바꿔준다.</p>
<pre class="lang:xhtml decode:true">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac"&gt;
  &lt;fonts count="1"&gt;
    &lt;font&gt;
      &lt;sz val="11"/&gt;
      &lt;color theme="1"/&gt;
      &lt;name val="Calibri"/&gt;
      &lt;family val="2"/&gt;
      &lt;charset val="129"/&gt;
      &lt;scheme val="minor"/&gt;
    &lt;/font&gt;
  &lt;/fonts&gt;
  ... 생략 ...
&lt;/styleSheet&gt;</pre>
<p>끝.</p>
<p>&nbsp;</p>
